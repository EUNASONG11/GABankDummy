<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.projectdummy.loan.LoanMapper">
    <insert id="insLoanLog">
        insert into rate_log
        (loan_id, additional_rate, base_rate, discounted_rate, base_rate_name, use_flag, created_at)
        VALUES
        (#{loanId}, #{additionalRate}, #{baseRate}, #{discountedRate}, #{baseRateName}, #{useFlag}, #{createdAt})
    </insert>

    <select id="selLoan">
        select loan_id
        from loan
        where use_flag = #{useFlag}
    </select>

    <select id="selLoan2">
        select *
        from loan
        where use_flag = #{useFlag}
    </select>

    <select id="selLoanAccountId">
        SELECT account_id
        FROM loan_account
    </select>

    <select id="selDiscountedRate">
        SELECT discounted_rate
        FROM loan_account
        WHERE account_id = #{accountId}
    </select>

    <select id="selAdditionalRate">
        SELECT additional_rate
        FROM loan_account
        WHERE account_id = #{accountId}
    </select>

    <select id="selCreatedAt">
        SELECT
    </select>

    <insert id="insLoanRateLog">
        INSERT INTO loan_rate_log
        (account_id, interest_rate, change_at, created_at)
        VALUES
        (#{accountId}, #{interestRate}, #{changeAt}, #{createdAt})
    </insert>
</mapper>